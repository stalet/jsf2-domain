<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/templates/template.xhtml">

    <ui:define name="title">Home</ui:define>

    <ui:define name="content">

        <h:form>

            <table>

                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Description</th>
                </tr>

                <ui:repeat value="#{productRepository.all}" var="product">
                    <tr>
                        <td><h:outputText value="#{product.id}"/></td>
                        <td><h:outputText value="#{product.name}"/></td>
                        <td><h:outputText value="#{product.description}"/></td>
                    </tr>
                </ui:repeat>

            </table>

            <h2><h:outputText value="Registrer ny"/></h2>
            <h:panelGrid columns="3">
                <h:outputLabel for="name" value="Name:"/>
                <h:inputText id="name" value="#{newProduct.name}"/>
                <h:message for="name" errorClass="invalid"/>
                <h:outputLabel for="description" value="Description:"/>
                <h:inputText id="description" value="#{newProduct.description}"/>
                <h:message for="description" errorClass="invalid"/>
            </h:panelGrid>

            <p>
                <h:panelGrid columns="2">
                    <h:commandButton id="register" action="#{homeController.registerProduct}" value="Registrer"/>
                    <h:messages styleClass="messages" errorClass="invalid" infoClass="valid" warnClass="warning"
                                globalOnly="true"/>
                </h:panelGrid>
            </p>

        </h:form>

    </ui:define>

</ui:composition>

